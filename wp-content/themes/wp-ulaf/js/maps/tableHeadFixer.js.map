{"version":3,"sources":["tableHeadFixer.js"],"names":["$","fn","tableHeadFixer","param","setParent","container","settings","table","parent","before","append","css","width","height","overflow","max-height","min-height","max-width","min-width","scroll","scrollWidth","clientWidth","scrollHeight","clientHeight","top","scrollTop","left","scrollLeft","head","this","find","foot","leftColumns","right","rightColumns","bind","fixHead","thead","cells","setBackground","position","fixFoot","tfoot","fixLeft","fixColumn","i","add","column","each","k","cell","fixRight","elements","element","elementBackground","parentBackground","background","defaults","extend","trigger","window","resize","jQuery"],"mappings":"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","file":"tableHeadFixer.js","sourcesContent":["(function($) {\n\n\t$.fn.tableHeadFixer = function(param) {\n\t\tvar defaults = {\n\t\t\thead: true,\n\t\t\tfoot: false,\n\t\t\tleft: 0,\n\t\t\tright: 0\n\t\t};\n\n\t\tvar settings = $.extend({}, defaults, param);\n\n\t\treturn this.each(function() {\n\t\t\tsettings.table = this;\n\t\t\tsettings.parent = $(\"<div></div>\");\n\t\t\tsetParent();\n\n\t\t\tif(settings.head == true)\n\t\t\t\tfixHead();\n\n\t\t\tif(settings.foot == true)\n\t\t\t\tfixFoot();\n\n\t\t\tif(settings.left > 0)\n\t\t\t\tfixLeft();\n\n\t\t\tif(settings.right > 0)\n\t\t\t\tfixRight();\n\n\t\t\t// self.setCorner();\n\n\t\t\t$(settings.parent).trigger(\"scroll\");\n\n\t\t\t$(window).resize(function() {\n\t\t\t\t$(settings.parent).trigger(\"scroll\");\n\t\t\t});\n\t\t});\n\n\t\tfunction setTable(table) {\n\n\t\t}\n\n\n\t\tfunction setParent() {\n\t\t\tvar container = $(settings.table).parent();\n\t\t\tvar parent = $(settings.parent);\n\t\t\tvar table = $(settings.table);\n\n\t\t\ttable.before(parent);\n\t\t\tparent.append(table);\n\t\t\tparent\n\t\t\t\t.css({\n\t\t\t\t\t'width' : '100%',\n\t\t\t\t\t'height' : container.css(\"height\"),\n\t\t\t\t\t'overflow' : 'scroll',\n\t\t\t\t\t'max-height' : container.css(\"max-height\"),\n\t\t\t\t\t'min-height' : container.css(\"min-height\"),\n\t\t\t\t\t'max-width' : container.css('max-width'),\n\t\t\t\t\t'min-width' : container.css('min-width')\n\t\t\t\t});\n\n\t\t\tparent.scroll(function() {\n\t\t\t\tvar scrollWidth = parent[0].scrollWidth;\n\t\t\t\tvar clientWidth = parent[0].clientWidth;\n\t\t\t\tvar scrollHeight = parent[0].scrollHeight;\n\t\t\t\tvar clientHeight = parent[0].clientHeight;\n\t\t\t\tvar top = parent.scrollTop();\n\t\t\t\tvar left = parent.scrollLeft();\n\n\t\t\t\tif(settings.head)\n\t\t\t\t\tthis.find(\"thead tr > *\").css(\"top\", top);\n\n\t\t\t\tif(settings.foot)\n\t\t\t\t\tthis.find(\"tfoot tr > *\").css(\"bottom\", scrollHeight - clientHeight - top);\n\n\t\t\t\tif(settings.left > 0)\n\t\t\t\t\tsettings.leftColumns.css(\"left\", left);\n\n\t\t\t\tif(settings.right > 0)\n\t\t\t\t\tsettings.rightColumns.css(\"right\", scrollWidth - clientWidth - left);\n\t\t\t}.bind(table));\n\t\t}\n\n\t\tfunction fixHead () {\n\t\t\tvar thead = $(settings.table).find(\"thead\");\n\t\t\tvar tr = thead.find(\"tr\");\n\t\t\tvar cells = thead.find(\"tr > *\");\n\n\t\t\tsetBackground(cells);\n\t\t\tcells.css({\n\t\t\t\t'position' : 'relative'\n\t\t\t});\n\t\t}\n\n\t\tfunction fixFoot () {\n\t\t\tvar tfoot = $(settings.table).find(\"tfoot\");\n\t\t\tvar tr = tfoot.find(\"tr\");\n\t\t\tvar cells = tfoot.find(\"tr > *\");\n\n\t\t\tsetBackground(cells);\n\t\t\tcells.css({\n\t\t\t\t'position' : 'relative'\n\t\t\t});\n\t\t}\n\n\t\tfunction fixLeft () {\n\t\t\tvar table = $(settings.table);\n\n\t\t\tvar fixColumn = settings.left;\n\n\t\t\tsettings.leftColumns = $();\n\n\t\t\tfor(var i = 1; i <= fixColumn; i++) {\n\t\t\t\tsettings.leftColumns = settings.leftColumns\n\t\t\t\t\t.add(table.find(\"tr > *:nth-child(\" + i + \")\"));\n\t\t\t}\n\n\t\t\tvar column = settings.leftColumns;\n\n\t\t\tcolumn.each(function(k, cell) {\n\t\t\t\tvar cell = $(cell);\n\n\t\t\t\tsetBackground(cell);\n\t\t\t\tcell.css({\n\t\t\t\t\t'position' : 'relative'\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tfunction fixRight () {\n\t\t\tvar table = $(settings.table);\n\n\t\t\tvar fixColumn = settings.right;\n\n\t\t\tsettings.rightColumns = $();\n\n\t\t\tfor(var i = 1; i <= fixColumn; i++) {\n\t\t\t\tsettings.rightColumns = settings.rightColumns\n\t\t\t\t\t.add(table.find(\"tr > *:nth-last-child(\" + i + \")\"));\n\t\t\t}\n\n\t\t\tvar column = settings.rightColumns;\n\n\t\t\tcolumn.each(function(k, cell) {\n\t\t\t\tvar cell = $(cell);\n\n\t\t\t\tsetBackground(cell);\n\t\t\t\tcell.css({\n\t\t\t\t\t'position' : 'relative'\n\t\t\t\t});\n\t\t\t});\n\n\t\t}\n\n\t\tfunction setBackground(elements) {\n\t\t\telements.each(function(k, element) {\n\t\t\t\tvar element = $(element);\n\t\t\t\tvar parent = $(element).parent();\n\n\t\t\t\tvar elementBackground = element.css(\"background-color\");\n\t\t\t\telementBackground = (elementBackground == \"transparent\" || elementBackground == \"rgba(0, 0, 0, 0)\") ? null : elementBackground;\n\n\t\t\t\tvar parentBackground = parent.css(\"background-color\");\n\t\t\t\tparentBackground = (parentBackground == \"transparent\" || parentBackground == \"rgba(0, 0, 0, 0)\") ? null : parentBackground;\n\n\t\t\t\tvar background = parentBackground ? parentBackground : \"white\";\n\t\t\t\tbackground = elementBackground ? elementBackground : background;\n\n\t\t\t\telement.css(\"background-color\", background);\n\t\t\t});\n\t\t}\n\t};\n\n})(jQuery);"],"sourceRoot":"/source/"}